{"ast":null,"code":"const getHeptabaseData = () => {\n  console.log('getHeptabaseData');\n\n  // 获取本地数据\n  let heptabase_blog_data = localStorage.getItem(\"heptabase_blog_data\");\n\n  // 若本地存在数据则不重新获取\n  if (heptabase_blog_data != undefined) {\n    heptabase_blog_data = JSON.parse(heptabase_blog_data)['data'];\n    return heptabase_blog_data;\n  } else {\n    // 本地无数据\n    // 获取 Heptabase 数据\n    fetch('https://app.heptabase.com/api/whiteboard/?secret=d4cc3728297609add1a00aab108e90c4e57a1c378cfc2307c251745bf7d2a884').then(res => res.json()).then(data => {\n      console.log(data);\n      heptabase_blog_data = data;\n      const local_data = {\n        'createdTime': Date.parse(new Date()) / 1000,\n        'data': data\n      };\n      // 存储数据到本地缓存\n      localStorage.setItem(\"heptabase_blog_data\", JSON.stringify(local_data));\n      // console.log(this.state.posts);\n\n      console.log('getHeptabaseData return');\n      return heptabase_blog_data;\n    }).catch(e => console.log('错误:', e));\n  }\n};\nexport { getHeptabaseData };","map":{"version":3,"names":["getHeptabaseData","console","log","heptabase_blog_data","localStorage","getItem","undefined","JSON","parse","fetch","then","res","json","data","local_data","Date","setItem","stringify","catch","e"],"sources":["/Users/jiangzilong/学习/minpg/heptabase_blog/src/constantFunction.js"],"sourcesContent":["const getHeptabaseData = () => {\n    console.log('getHeptabaseData');\n\n    // 获取本地数据\n    let heptabase_blog_data = localStorage.getItem(\"heptabase_blog_data\")\n    \n    \n    // 若本地存在数据则不重新获取\n    if (heptabase_blog_data != undefined) {\n        \n        heptabase_blog_data = JSON.parse(heptabase_blog_data)['data']\n        return heptabase_blog_data\n        \n    } else {\n        // 本地无数据\n        // 获取 Heptabase 数据\n        fetch(\n            'https://app.heptabase.com/api/whiteboard/?secret=d4cc3728297609add1a00aab108e90c4e57a1c378cfc2307c251745bf7d2a884'\n        )\n            .then(res => res.json())\n            .then(data => {\n                console.log(data)\n                \n                heptabase_blog_data = data\n\n                const local_data = {'createdTime':Date.parse(new Date())/1000,'data':data}\n                // 存储数据到本地缓存\n                localStorage.setItem(\"heptabase_blog_data\", JSON.stringify(local_data))\n                // console.log(this.state.posts);\n\n                console.log('getHeptabaseData return');\n                return heptabase_blog_data\n            })\n            .catch(e => console.log('错误:', e))\n    }\n    \n}\n\nexport { getHeptabaseData }"],"mappings":"AAAA,MAAMA,gBAAgB,GAAG,MAAM;EAC3BC,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;;EAE/B;EACA,IAAIC,mBAAmB,GAAGC,YAAY,CAACC,OAAO,CAAC,qBAAqB,CAAC;;EAGrE;EACA,IAAIF,mBAAmB,IAAIG,SAAS,EAAE;IAElCH,mBAAmB,GAAGI,IAAI,CAACC,KAAK,CAACL,mBAAmB,CAAC,CAAC,MAAM,CAAC;IAC7D,OAAOA,mBAAmB;EAE9B,CAAC,MAAM;IACH;IACA;IACAM,KAAK,CACD,mHAAmH,CACtH,CACIC,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,EAAE,CAAC,CACvBF,IAAI,CAACG,IAAI,IAAI;MACVZ,OAAO,CAACC,GAAG,CAACW,IAAI,CAAC;MAEjBV,mBAAmB,GAAGU,IAAI;MAE1B,MAAMC,UAAU,GAAG;QAAC,aAAa,EAACC,IAAI,CAACP,KAAK,CAAC,IAAIO,IAAI,EAAE,CAAC,GAAC,IAAI;QAAC,MAAM,EAACF;MAAI,CAAC;MAC1E;MACAT,YAAY,CAACY,OAAO,CAAC,qBAAqB,EAAET,IAAI,CAACU,SAAS,CAACH,UAAU,CAAC,CAAC;MACvE;;MAEAb,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAC;MACtC,OAAOC,mBAAmB;IAC9B,CAAC,CAAC,CACDe,KAAK,CAACC,CAAC,IAAIlB,OAAO,CAACC,GAAG,CAAC,KAAK,EAAEiB,CAAC,CAAC,CAAC;EAC1C;AAEJ,CAAC;AAED,SAASnB,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}